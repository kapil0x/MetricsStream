<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MetricsStream Learning Hub</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            margin-bottom: 30px;
            text-align: center;
        }

        header h1 {
            font-size: 3em;
            font-weight: 300;
            margin-bottom: 15px;
        }

        header p {
            font-size: 1.3em;
            opacity: 0.9;
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .nav-tab {
            flex: 1;
            min-width: 150px;
            padding: 12px 24px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .nav-tab:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .nav-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .content-panel {
            display: none;
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .content-panel.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            color: #2c3e50;
            font-size: 2.2em;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        h3 {
            color: #34495e;
            font-size: 1.6em;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        h4 {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .phase-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            border-left: 5px solid #667eea;
            padding: 25px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .phase-card:hover {
            transform: translateX(10px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);
        }

        .phase-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .phase-title {
            font-size: 1.4em;
            font-weight: 600;
            color: #2c3e50;
        }

        .phase-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .phase-description {
            color: #7f8c8d;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .phase-stats {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            background: white;
            border-radius: 20px;
            font-size: 13px;
        }

        .stat-icon {
            font-size: 18px;
        }

        .exercise-card {
            background: #fff;
            border: 2px solid #e9ecef;
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .exercise-card:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.1);
        }

        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .exercise-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #2c3e50;
        }

        .difficulty-badge {
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 11px;
            font-weight: 600;
            color: white;
        }

        .difficulty-easy {
            background: #27ae60;
        }

        .difficulty-medium {
            background: #f39c12;
        }

        .difficulty-hard {
            background: #e74c3c;
        }

        .difficulty-expert {
            background: #8e44ad;
        }

        .exercise-description {
            color: #7f8c8d;
            margin-bottom: 12px;
            line-height: 1.6;
        }

        .exercise-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            font-size: 13px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #e9ecef;
            color: #495057;
        }

        .btn-secondary:hover {
            background: #dee2e6;
        }

        .progress-tracker {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .progress-bar-container {
            background: #e9ecef;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-bar {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 13px;
            transition: width 0.5s ease;
        }

        .chapter-list {
            list-style: none;
        }

        .chapter-item {
            background: #f8f9fa;
            padding: 15px 20px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #95a5a6;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chapter-item:hover {
            border-left-color: #667eea;
            transform: translateX(5px);
        }

        .chapter-item.completed {
            border-left-color: #27ae60;
            background: #e8f5e9;
        }

        .chapter-checkbox {
            width: 24px;
            height: 24px;
            cursor: pointer;
        }

        .path-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .path-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            padding: 30px;
            border-radius: 12px;
            border: 2px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .path-card:hover {
            border-color: #667eea;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
        }

        .path-card.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .path-card.selected h3,
        .path-card.selected p {
            color: white;
        }

        .path-card h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .path-card p {
            color: #7f8c8d;
            font-size: 14px;
            line-height: 1.6;
        }

        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .resource-card {
            background: white;
            border: 2px solid #e9ecef;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .resource-card:hover {
            border-color: #667eea;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);
        }

        .resource-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }

        .resource-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .resource-description {
            color: #7f8c8d;
            font-size: 14px;
        }

        code {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 13px;
        }

        pre {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
        }

        pre code {
            background: none;
            padding: 0;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .warning-box {
            background: #fff3e0;
            border-left: 4px solid #f39c12;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .success-box {
            background: #e8f5e9;
            border-left: 4px solid #27ae60;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .footer {
            background: white;
            color: #7f8c8d;
            padding: 20px;
            text-align: center;
            border-radius: 10px;
            margin-top: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2em;
            }

            header p {
                font-size: 1em;
            }

            .nav-tabs {
                flex-direction: column;
            }

            .nav-tab {
                width: 100%;
            }

            .content-panel {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ MetricsStream Learning Hub</h1>
            <p>Build a high-performance metrics platform from first principles</p>
        </header>

        <div class="progress-tracker">
            <h3>Your Learning Progress</h3>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progress-bar" style="width: 0%">0%</div>
            </div>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('overview')">üìö Overview</button>
            <button class="nav-tab" onclick="showTab('learning-path')">üó∫Ô∏è Learning Path</button>
            <button class="nav-tab" onclick="showTab('phases')">‚ö° Optimization Phases</button>
            <button class="nav-tab" onclick="showTab('exercises')">üíª Exercises</button>
            <button class="nav-tab" onclick="showTab('resources')">üìñ Resources</button>
            <button class="nav-tab" onclick="showTab('decision-tree')">üå≥ Decision Tree</button>
        </div>

        <!-- Overview Panel -->
        <div class="content-panel active" id="overview">
            <h2>Welcome to MetricsStream</h2>
            <p style="font-size: 1.1em; line-height: 1.8; color: #7f8c8d; margin-bottom: 30px;">
                This learning hub guides you through building a production-grade metrics platform from scratch.
                You'll learn systems programming, performance optimization, and distributed systems by solving real bottlenecks.
            </p>

            <h3>What You'll Build</h3>
            <div class="info-box">
                <p><strong>MetricsStream</strong> is a comprehensive metrics platform similar to Prometheus or DataDog, built from first principles:</p>
                <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                    <li>HTTP server from raw sockets</li>
                    <li>Custom JSON parser (zero dependencies)</li>
                    <li>Sliding window rate limiting</li>
                    <li>Lock-free ring buffer for high throughput</li>
                    <li>Thread pool for efficient concurrency</li>
                    <li>Async I/O with producer-consumer pattern</li>
                </ul>
            </div>

            <h3>Performance Journey</h3>
            <div class="phase-stats">
                <div class="stat-item">
                    <span class="stat-icon">üêå</span>
                    <div>
                        <strong>Baseline:</strong> 200 RPS, 50% success rate
                    </div>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">üöÄ</span>
                    <div>
                        <strong>After Phase 3:</strong> 2,500 RPS, 80% success rate
                    </div>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">‚ö°</span>
                    <div>
                        <strong>After Phase 7:</strong> 10,000+ RPS, 100% success rate
                    </div>
                </div>
            </div>

            <h3>Choose Your Learning Path</h3>
            <div class="path-selector">
                <div class="path-card" onclick="selectPath('path-a')">
                    <h3>Path A: Full Stack ‚Üí Systems</h3>
                    <p><strong>Duration:</strong> 8-12 weeks</p>
                    <p>Start from web development background, learn systems programming fundamentals, build complete platform.</p>
                </div>
                <div class="path-card" onclick="selectPath('path-b')">
                    <h3>Path B: Backend ‚Üí Performance</h3>
                    <p><strong>Duration:</strong> 6-8 weeks</p>
                    <p>Have backend experience, focus on performance optimization, profiling, and concurrency patterns.</p>
                </div>
                <div class="path-card" onclick="selectPath('path-c')">
                    <h3>Path C: Complete Mastery</h3>
                    <p><strong>Duration:</strong> 12-16 weeks</p>
                    <p>Deep dive into every aspect: HTTP, parsing, concurrency, distributed systems, production engineering.</p>
                </div>
            </div>

            <div class="warning-box">
                <h4>üìã Prerequisites</h4>
                <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                    <li>C++ fundamentals (classes, pointers, references)</li>
                    <li>Basic understanding of HTTP and JSON</li>
                    <li>Linux/Unix command line experience</li>
                    <li>Git for version control</li>
                </ul>
            </div>

            <h3>Get Started</h3>
            <div class="success-box">
                <h4>üöÄ Quick Start</h4>
                <pre><code># Clone the repository
git clone https://github.com/kapil0x/MetricsStream.git
cd MetricsStream

# Build the project
mkdir build && cd build
cmake .. && make

# Run the server
./metricstream_server

# In another terminal, run load test
./load_test 8080 50 10</code></pre>
            </div>
        </div>

        <!-- Learning Path Panel -->
        <div class="content-panel" id="learning-path">
            <h2>üó∫Ô∏è Structured Learning Path</h2>
            <p style="font-size: 1.1em; line-height: 1.8; color: #7f8c8d; margin-bottom: 30px;">
                Follow this chapter-by-chapter guide to build MetricsStream systematically. Each chapter includes theory, implementation, and exercises.
            </p>

            <h3>Core Curriculum (15 Chapters)</h3>
            <ul class="chapter-list">
                <li class="chapter-item" onclick="toggleChapter(1)">
                    <div>
                        <strong>Chapter 1:</strong> HTTP Server from Scratch
                        <div style="font-size: 13px; color: #7f8c8d; margin-top: 5px;">
                            Build HTTP server using raw sockets (socket, bind, listen, accept)
                        </div>
                    </div>
                    <input type="checkbox" class="chapter-checkbox" onchange="updateProgress()">
                </li>
                <li class="chapter-item" onclick="toggleChapter(2)">
                    <div>
                        <strong>Chapter 2:</strong> HTTP Request Parsing
                        <div style="font-size: 13px; color: #7f8c8d; margin-top: 5px;">
                            Parse HTTP headers, routing, validation
                        </div>
                    </div>
                    <input type="checkbox" class="chapter-checkbox" onchange="updateProgress()">
                </li>
                <li class="chapter-item" onclick="toggleChapter(3)">
                    <div>
                        <strong>Chapter 3:</strong> JSON Parsing Optimization
                        <div style="font-size: 13px; color: #7f8c8d; margin-top: 5px;">
                            Custom parser: O(n¬≤) ‚Üí O(n), single-pass algorithm
                        </div>
                    </div>
                    <input type="checkbox" class="chapter-checkbox" onchange="updateProgress()">
                </li>
                <li class="chapter-item" onclick="toggleChapter(4)">
                    <div>
                        <strong>Chapter 4:</strong> Rate Limiting (Sliding Window)
                        <div style="font-size: 13px; color: #7f8c8d; margin-top: 5px;">
                            Implement sliding window rate limiter for per-client limits
                        </div>
                    </div>
                    <input type="checkbox" class="chapter-checkbox" onchange="updateProgress()">
                </li>
                <li class="chapter-item" onclick="toggleChapter(5)">
                    <div>
                        <strong>Chapter 5:</strong> File I/O and Persistence
                        <div style="font-size: 13px; color: #7f8c8d; margin-top: 5px;">
                            Write metrics to JSONL format, handle file operations
                        </div>
                    </div>
                    <input type="checkbox" class="chapter-checkbox" onchange="updateProgress()">
                </li>
                <li class="chapter-item" onclick="toggleChapter(6)">
                    <div>
                        <strong>Chapter 6:</strong> Thread-Per-Request (Phase 1)
                        <div style="font-size: 13px; color: #7f8c8d; margin-top: 5px;">
                            Spawn threads for concurrent request handling
                        </div>
                    </div>
                    <input type="checkbox" class="chapter-checkbox" onchange="updateProgress()">
                </li>
                <li class="chapter-item" onclick="toggleChapter(7)">
                    <div>
                        <strong>Chapter 7:</strong> Async I/O (Phase 2)
                        <div style="font-size: 13px; color: #7f8c8d; margin-top: 5px;">
                            Producer-consumer pattern, background writer thread
                        </div>
                    </div>
                    <input type="checkbox" class="chapter-checkbox" onchange="updateProgress()">
                </li>
                <li class="chapter-item" onclick="toggleChapter(8)">
                    <div>
                        <strong>Chapter 8:</strong> Hash-Based Mutex Pool (Phase 4)
                        <div style="font-size: 13px; color: #7f8c8d; margin-top: 5px;">
                            Per-client locking to eliminate serialization
                        </div>
                    </div>
                    <input type="checkbox" class="chapter-checkbox" onchange="updateProgress()">
                </li>
                <li class="chapter-item" onclick="toggleChapter(9)">
                    <div>
                        <strong>Chapter 9:</strong> Lock-Free Ring Buffer (Phase 5)
                        <div style="font-size: 13px; color: #7f8c8d; margin-top: 5px;">
                            Atomics, memory ordering, wait-free data structures
                        </div>
                    </div>
                    <input type="checkbox" class="chapter-checkbox" onchange="updateProgress()">
                </li>
                <li class="chapter-item" onclick="toggleChapter(10)">
                    <div>
                        <strong>Chapter 10:</strong> Thread Pool (Phase 6)
                        <div style="font-size: 13px; color: #7f8c8d; margin-top: 5px;">
                            Replace thread-per-request with fixed worker pool
                        </div>
                    </div>
                    <input type="checkbox" class="chapter-checkbox" onchange="updateProgress()">
                </li>
                <li class="chapter-item" onclick="toggleChapter(11)">
                    <div>
                        <strong>Chapter 11:</strong> HTTP Keep-Alive (Phase 7)
                        <div style="font-size: 13px; color: #7f8c8d; margin-top: 5px;">
                            Persistent connections, listen backlog tuning
                        </div>
                    </div>
                    <input type="checkbox" class="chapter-checkbox" onchange="updateProgress()">
                </li>
                <li class="chapter-item" onclick="toggleChapter(12)">
                    <div>
                        <strong>Chapter 12:</strong> Performance Profiling
                        <div style="font-size: 13px; color: #7f8c8d; margin-top: 5px;">
                            perf, valgrind, strace, flamegraphs
                        </div>
                    </div>
                    <input type="checkbox" class="chapter-checkbox" onchange="updateProgress()">
                </li>
                <li class="chapter-item" onclick="toggleChapter(13)">
                    <div>
                        <strong>Chapter 13:</strong> Load Testing
                        <div style="font-size: 13px; color: #7f8c8d; margin-top: 5px;">
                            Systematic testing, bottleneck identification
                        </div>
                    </div>
                    <input type="checkbox" class="chapter-checkbox" onchange="updateProgress()">
                </li>
                <li class="chapter-item" onclick="toggleChapter(14)">
                    <div>
                        <strong>Chapter 14:</strong> Production Engineering
                        <div style="font-size: 13px; color: #7f8c8d; margin-top: 5px;">
                            Monitoring, alerting, observability
                        </div>
                    </div>
                    <input type="checkbox" class="chapter-checkbox" onchange="updateProgress()">
                </li>
                <li class="chapter-item" onclick="toggleChapter(15)">
                    <div>
                        <strong>Chapter 15:</strong> Distributed Systems
                        <div style="font-size: 13px; color: #7f8c8d; margin-top: 5px;">
                            Sharding, replication, distributed tracing
                        </div>
                    </div>
                    <input type="checkbox" class="chapter-checkbox" onchange="updateProgress()">
                </li>
            </ul>

            <div class="info-box" style="margin-top: 30px;">
                <h4>üí° Learning Tip</h4>
                <p>
                    Each chapter builds on the previous one. Don't skip ahead! The bottleneck-driven approach
                    teaches you to measure first, then optimize. This is how real systems are built.
                </p>
            </div>
        </div>

        <!-- Phases Panel -->
        <div class="content-panel" id="phases">
            <h2>‚ö° Optimization Phases</h2>
            <p style="font-size: 1.1em; line-height: 1.8; color: #7f8c8d; margin-bottom: 30px;">
                Each phase targets a measured bottleneck with concrete performance improvements. Learn the systematic approach to performance optimization.
            </p>

            <div class="phase-card" onclick="expandPhase(0)">
                <div class="phase-header">
                    <div class="phase-title">Phase 0: Baseline</div>
                    <div class="phase-badge">200 RPS</div>
                </div>
                <div class="phase-description">
                    Sequential request processing. Single-threaded, blocking I/O. Establish performance baseline.
                </div>
                <div class="phase-stats">
                    <div class="stat-item">
                        <span class="stat-icon">üìä</span>
                        <div>200 RPS, 50% success rate</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">üéØ</span>
                        <div>Bottleneck: Sequential processing</div>
                    </div>
                </div>
            </div>

            <div class="phase-card" onclick="expandPhase(1)">
                <div class="phase-header">
                    <div class="phase-title">Phase 1: Thread-Per-Request</div>
                    <div class="phase-badge">500 RPS</div>
                </div>
                <div class="phase-description">
                    Spawn new thread for each request. Enables parallelism, eliminates head-of-line blocking.
                </div>
                <div class="phase-stats">
                    <div class="stat-item">
                        <span class="stat-icon">üìà</span>
                        <div>81% ‚Üí 88% success (20 clients)</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">‚öôÔ∏è</span>
                        <div>Files: http_server.cpp, main.cpp</div>
                    </div>
                </div>
            </div>

            <div class="phase-card" onclick="expandPhase(2)">
                <div class="phase-header">
                    <div class="phase-title">Phase 2: Async I/O</div>
                    <div class="phase-badge">800 RPS</div>
                </div>
                <div class="phase-description">
                    Producer-consumer pattern. Dedicated background writer thread. Non-blocking request processing.
                </div>
                <div class="phase-stats">
                    <div class="stat-item">
                        <span class="stat-icon">üìà</span>
                        <div>59% ‚Üí 66% success (50 clients)</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">‚öôÔ∏è</span>
                        <div>Files: ingestion_service.cpp</div>
                    </div>
                </div>
            </div>

            <div class="phase-card" onclick="expandPhase(3)">
                <div class="phase-header">
                    <div class="phase-title">Phase 3: JSON Parser Optimization</div>
                    <div class="phase-badge">2,500 RPS</div>
                </div>
                <div class="phase-description">
                    Custom string-search parser. O(n¬≤) ‚Üí O(n) complexity. Single-pass algorithm for known structure.
                </div>
                <div class="phase-stats">
                    <div class="stat-item">
                        <span class="stat-icon">üìà</span>
                        <div>80.2% success, 2.73ms latency (100 clients)</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">üéØ</span>
                        <div>Eliminated CPU bottleneck</div>
                    </div>
                </div>
            </div>

            <div class="phase-card" onclick="expandPhase(4)">
                <div class="phase-header">
                    <div class="phase-title">Phase 4: Hash-Based Mutex Pool</div>
                    <div class="phase-badge">4,000 RPS</div>
                </div>
                <div class="phase-description">
                    Pre-allocated mutex array. Per-client locking eliminates double mutex serialization.
                </div>
                <div class="phase-stats">
                    <div class="stat-item">
                        <span class="stat-icon">üìà</span>
                        <div>Expected 50-80% improvement</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">üîí</span>
                        <div>Eliminates global lock contention</div>
                    </div>
                </div>
            </div>

            <div class="phase-card" onclick="expandPhase(5)">
                <div class="phase-header">
                    <div class="phase-title">Phase 5: Lock-Free Ring Buffer</div>
                    <div class="phase-badge">8,000 RPS</div>
                </div>
                <div class="phase-description">
                    Atomics and memory ordering. Wait-free metrics collection. Eliminates all mutex contention.
                </div>
                <div class="phase-stats">
                    <div class="stat-item">
                        <span class="stat-icon">‚ö°</span>
                        <div>Lock-free data structures</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">üéØ</span>
                        <div>Zero mutex overhead</div>
                    </div>
                </div>
            </div>

            <div class="phase-card" onclick="expandPhase(6)">
                <div class="phase-header">
                    <div class="phase-title">Phase 6: Thread Pool</div>
                    <div class="phase-badge">10,000+ RPS</div>
                </div>
                <div class="phase-description">
                    Fixed worker threads. Amortizes thread creation cost (500Œºs) across thousands of requests.
                </div>
                <div class="phase-stats">
                    <div class="stat-item">
                        <span class="stat-icon">üìà</span>
                        <div>Expected 10K+ RPS</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">‚ö°</span>
                        <div>96% reduction in overhead</div>
                    </div>
                </div>
            </div>

            <div class="phase-card" onclick="expandPhase(7)">
                <div class="phase-header">
                    <div class="phase-title">Phase 7: HTTP Keep-Alive + Listen Backlog</div>
                    <div class="phase-badge">15,000+ RPS</div>
                </div>
                <div class="phase-description">
                    Persistent connections eliminate TCP handshake. Listen backlog 10‚Üí1024 for concurrent clients.
                </div>
                <div class="phase-stats">
                    <div class="stat-item">
                        <span class="stat-icon">üìà</span>
                        <div>46% ‚Üí 100% success (+54pp)</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">‚ö°</span>
                        <div>2.05ms ‚Üí 0.25ms latency</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Exercises Panel -->
        <div class="content-panel" id="exercises">
            <h2>üíª Hands-On Exercises</h2>
            <p style="font-size: 1.1em; line-height: 1.8; color: #7f8c8d; margin-bottom: 30px;">
                Practice exercises organized by difficulty. Each exercise includes starter code, hints, and test cases.
            </p>

            <h3>‚≠ê Easy Exercises</h3>
            <div class="exercise-card">
                <div class="exercise-header">
                    <div class="exercise-title">Exercise 1: HTTP Request Validation</div>
                    <div class="difficulty-badge difficulty-easy">EASY</div>
                </div>
                <div class="exercise-description">
                    Implement input validation for HTTP requests. Check method (GET/POST), path format, headers.
                </div>
                <div class="exercise-actions">
                    <button class="btn btn-primary" onclick="showExerciseDetails(1)">Start Exercise</button>
                    <button class="btn btn-secondary" onclick="showHints(1)">Show Hints</button>
                </div>
            </div>

            <div class="exercise-card">
                <div class="exercise-header">
                    <div class="exercise-title">Exercise 2: JSONL File Writer</div>
                    <div class="difficulty-badge difficulty-easy">EASY</div>
                </div>
                <div class="exercise-description">
                    Write metrics to file in JSONL format. Handle file operations, append-only writes.
                </div>
                <div class="exercise-actions">
                    <button class="btn btn-primary" onclick="showExerciseDetails(2)">Start Exercise</button>
                    <button class="btn btn-secondary" onclick="showHints(2)">Show Hints</button>
                </div>
            </div>

            <h3>‚≠ê‚≠ê Medium Exercises</h3>
            <div class="exercise-card">
                <div class="exercise-header">
                    <div class="exercise-title">Exercise 3: Sliding Window Rate Limiter</div>
                    <div class="difficulty-badge difficulty-medium">MEDIUM</div>
                </div>
                <div class="exercise-description">
                    Implement sliding window algorithm. Track requests per client, enforce 100 req/sec limit.
                </div>
                <div class="exercise-actions">
                    <button class="btn btn-primary" onclick="showExerciseDetails(3)">Start Exercise</button>
                    <button class="btn btn-secondary" onclick="showHints(3)">Show Hints</button>
                </div>
            </div>

            <div class="exercise-card">
                <div class="exercise-header">
                    <div class="exercise-title">Exercise 4: Custom JSON Parser</div>
                    <div class="difficulty-badge difficulty-medium">MEDIUM</div>
                </div>
                <div class="exercise-description">
                    Build single-pass JSON parser for {timestamp, name, value}. O(n) complexity, no regex.
                </div>
                <div class="exercise-actions">
                    <button class="btn btn-primary" onclick="showExerciseDetails(4)">Start Exercise</button>
                    <button class="btn btn-secondary" onclick="showHints(4)">Show Hints</button>
                </div>
            </div>

            <div class="exercise-card">
                <div class="exercise-header">
                    <div class="exercise-title">Exercise 5: Producer-Consumer Queue</div>
                    <div class="difficulty-badge difficulty-medium">MEDIUM</div>
                </div>
                <div class="exercise-description">
                    Implement async I/O with producer-consumer pattern. Use std::queue, mutex, condition_variable.
                </div>
                <div class="exercise-actions">
                    <button class="btn btn-primary" onclick="showExerciseDetails(5)">Start Exercise</button>
                    <button class="btn btn-secondary" onclick="showHints(5)">Show Hints</button>
                </div>
            </div>

            <h3>‚≠ê‚≠ê‚≠ê Hard Exercises</h3>
            <div class="exercise-card">
                <div class="exercise-header">
                    <div class="exercise-title">Exercise 6: Lock-Free Ring Buffer</div>
                    <div class="difficulty-badge difficulty-hard">HARD</div>
                </div>
                <div class="exercise-description">
                    Build wait-free ring buffer using std::atomic. Handle memory ordering, ABA problem.
                </div>
                <div class="exercise-actions">
                    <button class="btn btn-primary" onclick="showExerciseDetails(6)">Start Exercise</button>
                    <button class="btn btn-secondary" onclick="showHints(6)">Show Hints</button>
                </div>
            </div>

            <div class="exercise-card">
                <div class="exercise-header">
                    <div class="exercise-title">Exercise 7: Thread Pool Implementation</div>
                    <div class="difficulty-badge difficulty-hard">HARD</div>
                </div>
                <div class="exercise-description">
                    Create thread pool with fixed workers. Task queue, worker threads, graceful shutdown.
                </div>
                <div class="exercise-actions">
                    <button class="btn btn-primary" onclick="showExerciseDetails(7)">Start Exercise</button>
                    <button class="btn btn-secondary" onclick="showHints(7)">Show Hints</button>
                </div>
            </div>

            <h3>‚≠ê‚≠ê‚≠ê‚≠ê Expert Exercises</h3>
            <div class="exercise-card">
                <div class="exercise-header">
                    <div class="exercise-title">Exercise 8: Distributed Rate Limiting</div>
                    <div class="difficulty-badge difficulty-expert">EXPERT</div>
                </div>
                <div class="exercise-description">
                    Implement distributed rate limiter using Redis. Handle clock skew, network partitions.
                </div>
                <div class="exercise-actions">
                    <button class="btn btn-primary" onclick="showExerciseDetails(8)">Start Exercise</button>
                    <button class="btn btn-secondary" onclick="showHints(8)">Show Hints</button>
                </div>
            </div>
        </div>

        <!-- Resources Panel -->
        <div class="content-panel" id="resources">
            <h2>üìñ Learning Resources</h2>
            <p style="font-size: 1.1em; line-height: 1.8; color: #7f8c8d; margin-bottom: 30px;">
                Curated resources for mastering systems programming, performance optimization, and distributed systems.
            </p>

            <div class="resource-grid">
                <div class="resource-card">
                    <div class="resource-icon">üìö</div>
                    <div class="resource-title">Documentation</div>
                    <div class="resource-description">
                        Repository docs: CLAUDE.md, architecture_comparison.md, ring_buffer_implementation.md
                    </div>
                </div>
                <div class="resource-card">
                    <div class="resource-icon">üéì</div>
                    <div class="resource-title">Principal Engineer Path</div>
                    <div class="resource-description">
                        Advanced learning path covering profiling, concurrency, distributed systems
                    </div>
                </div>
                <div class="resource-card">
                    <div class="resource-icon">üå≥</div>
                    <div class="resource-title">Decision Tree</div>
                    <div class="resource-description">
                        Interactive visualization of all technical decisions and trade-offs
                    </div>
                </div>
                <div class="resource-card">
                    <div class="resource-icon">üîß</div>
                    <div class="resource-title">Profiling Tools</div>
                    <div class="resource-description">
                        perf, valgrind, strace, flamegraphs, ThreadSanitizer
                    </div>
                </div>
                <div class="resource-card">
                    <div class="resource-icon">üìä</div>
                    <div class="resource-title">Performance Testing</div>
                    <div class="resource-description">
                        Load testing scripts, systematic bottleneck identification
                    </div>
                </div>
                <div class="resource-card">
                    <div class="resource-icon">üí¨</div>
                    <div class="resource-title">Community</div>
                    <div class="resource-description">
                        GitHub discussions, issues, code reviews
                    </div>
                </div>
            </div>

            <h3>External Resources</h3>
            <div class="info-box">
                <h4>üìñ Recommended Reading</h4>
                <ul style="margin-left: 20px; margin-top: 10px; line-height: 1.8;">
                    <li><strong>Books:</strong> "The Linux Programming Interface", "C++ Concurrency in Action"</li>
                    <li><strong>Papers:</strong> "Lock-Free Data Structures", "The Art of Multiprocessor Programming"</li>
                    <li><strong>Tools:</strong> Brendan Gregg's performance tools, Linux perf tutorial</li>
                </ul>
            </div>
        </div>

        <!-- Decision Tree Panel -->
        <div class="content-panel" id="decision-tree">
            <h2>üå≥ Decision Tree</h2>
            <p style="font-size: 1.1em; line-height: 1.8; color: #7f8c8d; margin-bottom: 30px;">
                Interactive visualization of all technical decisions, alternatives considered, and trade-offs made during development.
            </p>

            <div class="info-box">
                <h4>üìä View the Complete Decision Tree</h4>
                <p>
                    The decision tree shows the complete optimization journey with all phases, decisions, and alternatives.
                    Click below to view the interactive visualization.
                </p>
                <div style="margin-top: 15px;">
                    <a href="docs/index.html" class="btn btn-primary" style="display: inline-block; text-decoration: none; color: white;">
                        Open Decision Tree ‚Üí
                    </a>
                </div>
            </div>

            <h3>Key Decisions Documented</h3>
            <ul style="margin-left: 20px; margin-top: 15px; line-height: 1.8;">
                <li><strong>Phase 1:</strong> Thread-per-request vs. thread pool vs. async I/O</li>
                <li><strong>Phase 2:</strong> Synchronous writes vs. producer-consumer vs. memory-only buffer</li>
                <li><strong>Phase 3:</strong> Regex parsing vs. JSON library vs. custom parser</li>
                <li><strong>Phase 4:</strong> Global mutex vs. per-client map vs. hash-based pool</li>
                <li><strong>Phase 5:</strong> Mutex-based vs. lock-free ring buffer</li>
                <li><strong>Phase 6:</strong> Thread-per-request vs. event loop vs. thread pool</li>
                <li><strong>Phase 7:</strong> Small backlog vs. Keep-Alive only vs. both optimizations</li>
            </ul>
        </div>

        <div class="footer">
            <p>Built with ‚ù§Ô∏è by the MetricsStream community</p>
            <p style="margin-top: 10px; font-size: 13px;">
                <a href="https://github.com/kapil0x/MetricsStream" style="color: #667eea; text-decoration: none;">GitHub</a> |
                <a href="docs/PRINCIPAL_ENGINEER_LEARNING_PATH.md" style="color: #667eea; text-decoration: none;">Principal Engineer Path</a> |
                <a href="README.md" style="color: #667eea; text-decoration: none;">README</a>
            </p>
        </div>
    </div>

    <script>
        // Tab navigation
        function showTab(tabName) {
            // Hide all panels
            document.querySelectorAll('.content-panel').forEach(panel => {
                panel.classList.remove('active');
            });

            // Remove active class from all tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected panel
            document.getElementById(tabName).classList.add('active');

            // Add active class to clicked tab
            event.target.classList.add('active');

            // Save to localStorage
            localStorage.setItem('activeTab', tabName);
        }

        // Progress tracking
        function updateProgress() {
            const checkboxes = document.querySelectorAll('.chapter-checkbox');
            const completed = Array.from(checkboxes).filter(cb => cb.checked).length;
            const total = checkboxes.length;
            const percentage = Math.round((completed / total) * 100);

            const progressBar = document.getElementById('progress-bar');
            progressBar.style.width = percentage + '%';
            progressBar.textContent = percentage + '%';

            // Update chapter items to show completed state
            checkboxes.forEach((checkbox, index) => {
                const chapterItem = checkbox.closest('.chapter-item');
                if (checkbox.checked) {
                    chapterItem.classList.add('completed');
                } else {
                    chapterItem.classList.remove('completed');
                }
            });

            // Save progress to localStorage
            const progress = Array.from(checkboxes).map(cb => cb.checked);
            localStorage.setItem('learningProgress', JSON.stringify(progress));
        }

        // Chapter toggle
        function toggleChapter(chapterId) {
            // Find checkbox within the clicked chapter
            const checkbox = event.currentTarget.querySelector('.chapter-checkbox');
            if (checkbox && event.target !== checkbox) {
                checkbox.checked = !checkbox.checked;
                updateProgress();
            }
        }

        // Path selection
        let selectedPath = null;
        function selectPath(pathId) {
            // Remove selected class from all paths
            document.querySelectorAll('.path-card').forEach(card => {
                card.classList.remove('selected');
            });

            // Add selected class to clicked path
            event.currentTarget.classList.add('selected');
            selectedPath = pathId;

            // Save to localStorage
            localStorage.setItem('selectedPath', pathId);
        }

        // Phase expansion
        function expandPhase(phaseId) {
            alert('Phase ' + phaseId + ' details:\n\nSee the Decision Tree tab for complete details on this phase, including all technical decisions, alternatives considered, and performance impact.');
        }

        // Exercise details
        function showExerciseDetails(exerciseId) {
            alert('Exercise ' + exerciseId + ' starter code and instructions will be available soon!\n\nCheck the repository for exercise files and solutions.');
        }

        // Show hints
        function showHints(exerciseId) {
            alert('Hints for Exercise ' + exerciseId + ':\n\n1. Start by understanding the problem\n2. Review relevant code in the repository\n3. Test incrementally\n4. Measure performance');
        }

        // Load saved state on page load
        window.addEventListener('load', () => {
            // Restore active tab
            const savedTab = localStorage.getItem('activeTab');
            if (savedTab) {
                document.querySelectorAll('.nav-tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.querySelectorAll('.content-panel').forEach(panel => {
                    panel.classList.remove('active');
                });

                const tabButton = Array.from(document.querySelectorAll('.nav-tab')).find(
                    tab => tab.getAttribute('onclick').includes(savedTab)
                );
                if (tabButton) {
                    tabButton.classList.add('active');
                }

                const panel = document.getElementById(savedTab);
                if (panel) {
                    panel.classList.add('active');
                }
            }

            // Restore learning progress
            const savedProgress = localStorage.getItem('learningProgress');
            if (savedProgress) {
                const progress = JSON.parse(savedProgress);
                const checkboxes = document.querySelectorAll('.chapter-checkbox');
                checkboxes.forEach((checkbox, index) => {
                    if (progress[index]) {
                        checkbox.checked = true;
                    }
                });
                updateProgress();
            }

            // Restore selected path
            const savedPath = localStorage.getItem('selectedPath');
            if (savedPath) {
                const pathCard = document.querySelector(`[onclick*="${savedPath}"]`);
                if (pathCard && pathCard.classList.contains('path-card')) {
                    pathCard.classList.add('selected');
                    selectedPath = savedPath;
                }
            }
        });
    </script>
</body>
</html>
